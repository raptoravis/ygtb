---
name: article-rewriter
description: Article rewriting style management tool. Manage writing styles and generate prompts for article rewriting. Use when you need to transform content to match a particular writing style.
---

# Article Rewriter

Manage writing styles and generate prompts for article rewriting.

## When to Use

Use this skill when you have:
- A target article that needs rewriting
- A style description (generated by style-generator or manually created)
- Optional additional instructions for fine-tuning

## Workflow

1. **Generate Prompt**: Use the script to generate a complete LLM prompt
2. **Execute with LLM**: Send the prompt to an LLM externally
3. **Save Result**: Save the rewritten article to the style database (optional)

## Style Adherence Guidelines

When rewriting, the LLM MUST follow these principles:

### 1. Preserve Core Content
- Keep all key information and facts
- Maintain original message and intent
- Do not add or remove significant information

### 2. Apply Style Elements
- **Vocabulary**: Use words consistent with style description
- **Sentence Structure**: Match sentence length and complexity patterns
- **Tone**: Adopt emotional tone specified
- **Structure**: Follow opening/body/closing patterns described

### 3. Handle Special Instructions
If additional instructions are provided (e.g., "make it more concise", "add humor"):
- Apply these on top of style requirements
- Ensure they don't conflict with core style elements
- Prioritize style consistency over additional instructions if there's conflict

### 4. Natural Flow
- The rewrite should read naturally
- Avoid awkward phrasing that sacrifices clarity for style
- Maintain logical flow between paragraphs

## Command Line Usage

### List Available Styles

```bash
python skills/article-rewriter/scripts/rewrite_article.py --list-styles
```

### Generate Rewrite Prompt

```bash
python skills/article-rewriter/scripts/rewrite_article.py \
    --input target_article.txt \
    --use-saved-style "幽默短篇故事" \
    --instructions "让文章更简洁" \
    --generate-prompt
```

The script will output a complete prompt that you can send to an LLM:

```text
你是一个专业的写作风格模仿专家，能够根据提供的风格描述准确模仿各种写作风格。

根据以下风格描述，用这种风格重写目标文章。

风格名称: 幽默短篇故事
风格描述: [风格描述内容...]

额外指令:
让文章更简洁

目标文章:
[文章内容...]

请严格按照上面的风格描述，重写目标文章，保持原文的核心内容不变。
```

### Using Custom Style Description

```bash
python skills/article-rewriter/scripts/rewrite_article.py \
    --input target_article.txt \
    --style-description "风格描述文本..." \
    --style-name "自定义风格" \
    --generate-prompt
```

Or use a file:

```bash
python skills/article-rewriter/scripts/rewrite_article.py \
    --input target_article.txt \
    --style-description style_desc.txt \
    --generate-prompt
```

### Save Rewritten Article to Style Database

After obtaining the rewritten article from LLM, you can save it:

```python
from utils import add_article_to_style

rewritten_text = "重写后的文章内容..."
add_article_to_style("幽默短篇故事", rewritten_text)
```

Or use the `--save-article` flag with a result file:

```bash
# First, save the LLM result to a file
echo "重写结果..." > rewritten.txt

# Then use article-rewriter to save it
python skills/article-rewriter/scripts/rewrite_article.py \
    --input target_article.txt \
    --use-saved-style "幽默短篇故事" \
    --save-article
```

This will add the rewritten article to `data/articles.json` under the specified style's `articles` array.

## Important Notes

- Style adherence is top priority
- If style description is unclear, ask for clarification before rewriting
- Maintain factual accuracy - never alter facts to fit style
- When in doubt between style and accuracy, choose accuracy but note the compromise

## Skill Execution for AI Assistant

When this skill is invoked, the AI assistant should:

1. Read the style description from saved style or provided text
2. Generate a complete rewrite prompt following the template
3. Call an external LLM with the prompt
4. Return the rewritten article
5. Optionally save to style database if requested
